<!--- EN-Revision: 5379847d2fa267e36f3b4a838a3f1bdca6d9d315 -->

В этом руководстве представлены рекомендации по отправке приложения Expo в Apple iTunes Store и Google Play Store. Чтобы узнать, как создавать собственные двоичные файлы для отправки, смотрите [Создание автономных приложений](building-standalone-apps.md).

Несмотря на то, что вы можете поделиться опубликованным проектом через клиента Expo и в своем профиле [expo.io](https://expo.io), отправка автономного приложения в магазины Apple и Google необходима для того, чтобы иметь выделенный объект на устройствах ваших пользователей. Отправка в эти магазины предъявляет более строгие требования и стандарты качества, чем совместное использование игрушечного проекта с несколькими друзьями, поскольку оно делает ваше приложение доступным через более широкую платформу распространения.

**Отказ от ответственности:** Особенно в случае Apple, руководящие принципы и правила проверки постоянно меняются, и соблюдение Apple различных правил имеет тенденцию быть привередливым и непоследовательным. Мы не можем гарантировать, что ваш конкретный проект будет принят любой платформой, и вы в конечном итоге несете ответственность за поведение своего приложения. Тем не менее, приложения Expo являются нативными и ведут себя так же, как и любые другие приложения, поэтому, если вы создали что-то потрясающее, вам не о чем беспокоиться!

## Убедитесь, что ваше приложение работает на многих форм-факторах

Рекомендуется протестировать ваше приложение на устройстве или симуляторе с небольшим экраном (например, iPhone SE), а также с большим экраном (например, iPhone X). Убедитесь, что ваши компоненты отображаются так, как вы ожидаете, кнопки не заблокированы, и все текстовые поля доступны.

Попробуйте свое приложение на планшетах в дополнение к телефонам. Даже если вы настроили `ios.supportsTablet: false`, ваше приложение все равно будет отображаться с разрешением телефона на iPad и должно быть пригодным для использования.

## Сделать загрузку приложения без проблем

- Добавьте [экран загрузки](../guides/splash-screens.md), самое первое, что увидят ваши пользователи после того, как они выберут ваше приложение.
- Используйте [AppLoading](../sdk/app-loading.md) чтобы убедиться, что ваш интерфейс готов, прежде чем его увидит пользователь.
- [Предварительная загрузка и кеширование ваших активов](../guides/preloading-and-caching-assets.md), чтобы ваше приложение загружалось быстро даже при плохом интернет-соединении.

## Играйте красиво с интерфейсом системы

- Настройте [статус бар](../guides/configuring-statusbar.md), чтобы он не конфликтовал с вашим интерфейсом.
- Используйте [родные жесты](../sdk/gesture-handler.md), когда это возможно.
- Используйте элементы интерфейса, которые имеют смысл на устройстве. Например, посмотрите [iOS Human Interface Guidelines](https://developer.apple.com/ios/human-interface-guidelines/overview/themes/).

## Настройте метаданные вашего приложения

- Добавьте отличную [иконку](../guides/app-icons.md). Требования к пиктограммам между iOS и Android различаются и являются довольно строгими, поэтому обязательно ознакомьтесь с этим руководством.
- Настройте свой [primaryColor](../workflow/configuration.md#primarycolor).
- Убедитесь, что в вашем приложении установлен действующий iOS [Bundle Identifier](../workflow/configuration.md#bundleidentifier) и [Android Package](../workflow/configuration.md#package). Будьте внимательны при выборе, так как вы не сможете изменить их позже.

## Политика конфиденциальности

- Начиная с 3 октября 2018 года все новые приложения для iOS и обновления приложений должны будут иметь политику конфиденциальности, чтобы соответствовать рекомендациям App Store по рассмотрению.
- Кроме того, ряд разработчиков сообщили о предупреждениях от Google, если их приложение не имеет политики конфиденциальности, поскольку по умолчанию все приложения Expo содержат код для запроса идентификатора рекламы Android. Хотя этот код может не выполняться в зависимости от того, какие API Expo вы используете, мы все же рекомендуем, чтобы все приложения в Google Play Store также включали политику конфиденциальности.

## iOS-ориентированные рекомендации

- Все приложения в iTunes Store должны соблюдать [App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/).
- Apple спросит вас, использует ли ваше приложение IDFA. Поскольку Expo зависит от Segment Analytics, ответ - да, и вам нужно будет поставить пару флажков в форме отправки Apple. Смотрите [Руководство Segment](https://segment.com/docs/sources/mobile/ios/quickstart/#step-5-submitting-to-the-app-store) о том, какие конкретные поля заполнять.

## Общие отклонения приложений

- Полезно взглянуть [Общие отклонения приложений](https://developer.apple.com/app-store/review/rejections/).
- Двоичные файлы могут быть отклонены из-за плохо отформатированных значков, поэтому дважды проверьте [Руководство по иконкам приложений](../guides/app-icons.md).
- Apple может отклонить ваше приложение, если элементы не отображаются должным образом на iPad, даже если ваше приложение не нацелено на форм-фактор iPad. Обязательно протестируйте свое приложение на iPad (или симуляторе iPad).
- Иногда люди получают сообщение от Apple, в котором упоминается сеть IPv6. Как правило, это просто способ Apple сообщить вам, в какой сети они тестировались, и фактическая деталь "IPv6" - это красная сельдь. Весь iOS-код Expo использует `NSURLSession`, который совместим с IPv6. [Подробнее](https://forums.expo.io/t/ios-standalone-rejected-at-review-because-of-ipv6/7062).

## Диалоги системных разрешений на iOS

Если ваше приложение запрашивает [системные разрешения](../sdk/permissions.md) от пользователя, например чтобы использовать камеру устройства или получить доступ к фотографиям, Apple требуется объяснение того, как ваше приложение использует эти данные. Expo автоматически предоставит вам причину, например, "Allow cool-app to access the camera.". Если вы хотите предоставить больше информации, вы можете переопределить эти значения, используя ключ [ios.infoPlist](../workflow/configuration.md) в `app.json`, например:

```
"infoPlist": {
  "NSCameraUsageDescription": "Это приложение использует камеру для сканирования штрих-кодов на билетах на мероприятия."
},
```

Полный список ключей, предоставляемых Expo по умолчанию, можно посмотреть [здесь](https://github.com/expo/expo/blob/master/exponent-view-template/ios/exponent-view-template/Supporting/Info.plist#L28-L41). В отличие от Android, в iOS невозможно отфильтровать список разрешений, которые приложение может запрашивать на собственном уровне. Это означает, что по умолчанию ваше приложение будет поставляться со всеми этими стандартными строками, встроенными в двоичный файл. Вы можете указать любые переопределения в конфигурации `infoPlist`. Поскольку эти строки сконфигурированы на собственном уровне, они будут опубликованы только тогда, когда вы создадите новый двоичный файл с `expo build`.

## Локализация системных диалогов на iOS

Если ваше приложение использует язык помимо английского, вы можете дополнительно предоставить строки [локализации](../sdk/localization.md) для системных диалогов. Например, в `app.json` вы можете указать

```
"locales": {
  "ru": "./languages/russian.json"
}
```

...где `russian.json` выглядит так:

```
{
  "NSContactsUsageDescription": "Привет русские слова"
}
```
